(function(e){var o,t,a,l,n,s,r,i,c,d={keyboardShortcuts:{enabled:!0,distance:50},scrollWheel:{enabled:!0,factor:1},scrollZones:{enabled:!0,speed:15},dragging:{enabled:!0,momentum:.875,threshold:10},excludeSelector:"input:focus, select:focus, textarea:focus, audio, video, iframe",linkScrollSpeed:1e3},u=e(window),p=e(document),f=e("body"),m=e("html"),g=e("body,html"),h=e("#wrapper");breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:["361px","480px"],xxsmall:[null,"360px"],short:"(min-aspect-ratio: 16/7)",xshort:"(min-aspect-ratio: 16/6)"}),u.on("load",function(){window.setTimeout(function(){f.removeClass("is-preload")},100)}),browser.mobile&&(d.keyboardShortcuts.enabled=!1,d.scrollWheel.enabled=!1,d.scrollZones.enabled=!1,d.dragging.enabled=!1,f.css("overflow-x","auto")),"ie"==browser.name&&(f.addClass("is-ie"),u.on("load resize",function(){var o=0;h.children().each(function(){o+=e(this).width()}),m.css("width",o+"px")})),browser.canUse("object-fit")||e(".image[data-position]").each(function(){var o=e(this),t=o.children("img");o.css("background-image",'url("'+t.attr("src")+'")').css("background-position",o.data("position")).css("background-size","cover").css("background-repeat","no-repeat"),t.css("opacity","0")}),d.keyboardShortcuts.enabled&&(h.on("keypress keyup keydown",d.excludeSelector,function(e){e.stopPropagation()}),u.on("keydown",function(e){var o=!1;switch(e.keyCode){case 37:p.scrollLeft(p.scrollLeft()-d.keyboardShortcuts.distance),o=!0;break;case 39:p.scrollLeft(p.scrollLeft()+d.keyboardShortcuts.distance),o=!0;break;case 33:p.scrollLeft(p.scrollLeft()-u.width()+100),o=!0;break;case 34:case 32:p.scrollLeft(p.scrollLeft()+u.width()-100),o=!0;break;case 36:p.scrollLeft(0),o=!0;break;case 35:p.scrollLeft(p.width()),o=!0}o&&(e.preventDefault(),e.stopPropagation(),g.stop())})),d.scrollWheel.enabled&&(o=function(e){var o=10,t=40,a=800,l=0,n=0,s=0,r=0;return"detail"in e?n=e.detail:"wheelDelta"in e?n=e.wheelDelta/-120:"wheelDeltaY"in e&&(n=e.wheelDeltaY/-120),"wheelDeltaX"in e&&(l=e.wheelDeltaX/-120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(l=n,n=0),s=l*o,r=n*o,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(s=e.deltaX),(s||r)&&e.deltaMode&&(1==e.deltaMode?(s*=t,r*=t):(s*=a,r*=a)),s&&!l&&(l=s<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:l,spinY:n,pixelX:s,pixelY:r}},f.on("wheel",function(e){if(!breakpoints.active("<=small")){e.preventDefault(),e.stopPropagation(),g.stop();var t=o(e.originalEvent),a=0!=t.pixelX?t.pixelX:t.pixelY,l=Math.min(Math.abs(a),150)*d.scrollWheel.factor,n=a>0?1:-1;p.scrollLeft(p.scrollLeft()+l*n)}})),d.scrollZones.enabled&&(a=e('<div class="scrollZone left"></div>'),l=e('<div class="scrollZone right"></div>'),n=a.add(l),s=!1,r=null,i=function(e){breakpoints.active("<=small")||s||(g.stop(),t=e,clearInterval(r),r=setInterval(function(){p.scrollLeft(p.scrollLeft()+d.scrollZones.speed*t)},25))},c=function(){s=!1,clearInterval(r)},n.appendTo(h).on("mouseleave mousedown",function(e){c()}),a.css("left","0").on("mouseenter",function(e){i(-1)}),l.css("right","0").on("mouseenter",function(e){i(1)}),h.on("---pauseScrollZone",function(e){s=!0,setTimeout(function(){s=!1},500)})),d.dragging.enabled&&function(){var e,o,t,a,l,n,s,r,i=!1,c=!1,u=0;h.on("mouseup mousemove mousedown",".image, img",function(e){e.preventDefault()}).on("mouseup mousemove mousedown",d.excludeSelector,function(e){e.stopPropagation(),i=!1,h.removeClass("is-dragging"),clearInterval(t),clearInterval(o),h.triggerHandler("---pauseScrollZone")}).on("mousedown",function(c){breakpoints.active("<=small")||(clearInterval(o),g.stop(),i=!0,h.addClass("is-dragging"),e=p.scrollLeft(),a=c.clientX,n=a,l=a,u=0,r=0,clearInterval(t),t=setInterval(function(){s=Math.abs(l-n),r=l>n?-1:1,n=l},50))}).on("mousemove",function(o){i&&(l=o.clientX,p.scrollLeft(e+(a-l)),u=Math.abs(e-p.scrollLeft()),!c&&u>d.dragging.threshold&&(h.addClass("is-dragged"),c=!0))}).on("mouseup mouseleave",function(e){var a;i&&(c&&(setTimeout(function(){h.removeClass("is-dragged")},100),c=!1),u>d.dragging.threshold&&e.preventDefault(),i=!1,h.removeClass("is-dragging"),clearInterval(t),clearInterval(o),h.triggerHandler("---pauseScrollZone"),d.dragging.momentum>0&&(a=s,o=setInterval(function(){isNaN(a)?clearInterval(o):(p.scrollLeft(p.scrollLeft()+a*r),a*=d.dragging.momentum,Math.abs(a)<1&&clearInterval(o))},15)))})}(),h.on("mousedown mouseup",'a[href^="#"]',function(e){e.stopPropagation()}).on("click",'a[href^="#"]',function(o){var t,a,l,n=e(this),s=n.attr("href");"#"!=s&&0!=(t=e(s)).length&&(o.preventDefault(),o.stopPropagation(),breakpoints.active("<=small")?(a=t.offset().top-Math.max(0,u.height()-t.outerHeight())/2,l={scrollTop:a}):(a=t.offset().left-Math.max(0,u.width()-t.outerWidth())/2,l={scrollLeft:a}),g.stop().animate(l,d.linkScrollSpeed,"swing"))}),e(".gallery").on("click","a",function(o){var t=e(this),a=t.parents(".gallery"),l=a.children(".modal"),n=l.find("img"),s=t.attr("href");s.match(/\.(jpg|gif|png|mp4)$/)&&(o.preventDefault(),o.stopPropagation(),l[0]._locked||(l[0]._locked=!0,n.attr("src",s),l.addClass("visible"),l.focus(),setTimeout(function(){l[0]._locked=!1},600)))}).on("click",".modal",function(o){var t=e(this),a=t.find("img");t[0]._locked||t.hasClass("visible")&&(o.stopPropagation(),t[0]._locked=!0,t.removeClass("loaded"),setTimeout(function(){t.removeClass("visible"),h.triggerHandler("---pauseScrollZone"),setTimeout(function(){a.attr("src",""),t[0]._locked=!1,f.focus()},475)},125))}).on("keypress",".modal",function(o){var t=e(this);27==o.keyCode&&t.trigger("click")}).on("mouseup mousedown mousemove",".modal",function(e){e.stopPropagation()}).prepend('<div class="modal" tabIndex="-1"><div class="inner"><img src="" /></div></div>').find("img").on("load",function(o){var t=e(this),a=t.parents(".modal");setTimeout(function(){a.hasClass("visible")&&a.addClass("loaded")},275)})})(jQuery);